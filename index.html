<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tauris AI Ltd. - Lithuanian Writing Bureau</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
</head>
<body>
    <div class="lithuanian-backdrop"></div>
    <div class="container">
        <header class="office-header">
            <div class="company-logo">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSIjRkZEQTAwIiBkPSJNMCAwaDEwMHYzMy4zSDB6Ii8+PHBhdGggZmlsbD0iIzAwOTkzMCIgZD0iTTAgMzMuM2gxMDB2MzMuNEgweiIvPjxwYXRoIGZpbGw9IiNDMTI3MkQiIGQ9Ik0wIDY2LjdoMTAwVjEwMEgweiIvPjwvc3ZnPg==" alt="Lithuanian flag colors" class="flag-icon">
                <div class="logo-text">
                    <h1>Tauris AI Ltd.</h1>
                    <p class="tagline">â€KodÄ—l dirbti, kai maÅ¡inos gali dirbti uÅ¾ jus?"</p>
                </div>
            </div>
            <div class="office-controls">
                <div class="theme-toggle">
                    <label class="switch">
                        <input type="checkbox" id="themeToggle" checked>
                        <span class="slider round"></span>
                        <span class="mode-icon light">â˜€ï¸</span>
                        <span class="mode-icon dark">ğŸŒ™</span>
                    </label>
                </div>
                <div class="office-status">
                    <span class="status-indicator open">Atidaryta</span>
                    <div class="office-time">Darbo valandos: 24/7 (Robotai niekada nemiega!)</div>
                </div>
            </div>
        </header>
        
        <section class="welcome-section">
            <h2>Sveiki atvykÄ™ Ä¯ virtualÅ³ AI biurÄ…!</h2>
            <p class="welcome-message">ÄŒia dirba geriausi Lietuvos dirbtinio intelekto darbuotojai. Ä®veskite savo uÅ¾duotÄ¯ ir leiskite mÅ«sÅ³ komandai atlikti darbÄ… uÅ¾ jus! Jie dirba uÅ¾ alÅ³ ir cepelinÅ³ pietÅ«s.</p>
        </section>

        <div class="control-panel">
            <div class="input-group">
                <label for="initialPrompt">JÅ«sÅ³ uÅ¾sakymas:</label>
                <textarea id="initialPrompt" rows="3" placeholder="Ä®veskite uÅ¾duotÄ¯, pvz., â€ParaÅ¡ykite Ä¯vadÄ… bakalauro darbui apie dirbtinÄ¯ intelektÄ…""></textarea>
            </div>
            
            <div class="worker-roles">
                <div class="role-card writer">
                    <div class="worker-photo">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGZpbGw9IiMzMzMiIGN4PSI1MCIgY3k9IjQwIiByPSIyNSIvPjxjaXJjbGUgZmlsbD0iIzU1NSIgY3g9IjUwIiBjeT0iMzAiIHI9IjE4Ii8+PHBhdGggZmlsbD0iI2VjNzEwNiIgZD0iTTIwLDg1YzAtMTYuNiwxMy40LTMwLDMwLTMwczMwLDEzLjQsMzAsMzBINjVjMC04LjMtNi43LTE1LTE1LTE1cy0xNSw2LjctMTUsMTVIMjB6Ii8+PHJlY3QgZmlsbD0iIzc3NyIgeD0iMzAiIHk9IjYyIiB3aWR0aD0iNDAiIGhlaWdodD0iMTAiLz48L3N2Zz4=" alt="Writer" class="worker-img">
                        <div class="coffee-mug">â˜•</div>
                    </div>
                    <h3>RaÅ¡ytojas Jonas</h3>
                    <p>MÅ«sÅ³ Å¾odÅ¾iÅ³ meistras. PasiÅ¾ymi turtinga, vaizdinga lietuviÅ³ kalba su autentiÅ¡kais posakiais. Kuria sklandÅ¾ius, Ä¯taigius tekstus, iÅ¡naudodamas visas gimtosios kalbos galimybes.</p>
                    <div class="model-selection">
                        <label for="writerModel">Smegenys:</label>
                        <select id="writerModel" class="model-select">
                            <option value="openai-large">OpenAI GPT-4o ğŸ‘ï¸</option>
                        </select>
                        <div class="worker-mood">Nuotaika: Ä®kvÄ—ptas â˜€ï¸</div>
                    </div>
                </div>
                
                <div class="role-card researcher">
                    <div class="worker-photo">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGZpbGw9IiMzMzMiIGN4PSI1MCIgY3k9IjQwIiByPSIyNSIvPjxjaXJjbGUgZmlsbD0iIzU1NSIgY3g9IjUwIiBjeT0iMzAiIHI9IjE4Ii8+PHBhdGggZmlsbD0iIzAwOTkzMCIgZD0iTTIwLDg1YzAtMTYuNiwxMy40LTMwLDMwLTMwczMwLDEzLjQsMzAsMzBINjVjMC04LjMtNi43LTE1LTE1LTE1cy0xNSw2LjctMTUsMTVIMjB6Ii8+PGNpcmNsZSBmaWxsPSIjZWVlIiBjeD0iNjUiIGN5PSI0MCIgcj0iMTAiLz48Y2lyY2xlIGZpbGw9IiNlZWUiIGN4PSIzNSIgY3k9IjQwIiByPSIxMCIvPjxyZWN0IGZpbGw9IiNlZWUiIHg9IjQwIiB5PSIyNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjUiLz48L3N2Zz4=" alt="Researcher" class="worker-img">
                        <div class="glasses">ğŸ‘“</div>
                    </div>
                    <h3>TyrÄ—ja Gabija</h3>
                    <p>MÅ«sÅ³ faktÅ³ ekspertÄ—. Naudoja tik patikimus lietuviÅ¡kus ir tarptautinius Å¡altinius, puikiai iÅ¡mano akademinÄ™ metodologijÄ…, moka paaiÅ¡kinti sudÄ—tingas sÄ…vokas aiÅ¡kiai ir tiksliai lietuviÅ³ kalba.</p>
                    <div class="model-selection">
                        <label for="researcherModel">Smegenys:</label>
                        <select id="researcherModel" class="model-select">
                            <option value="searchgpt">SearchGPT ğŸŒ</option>
                        </select>
                        <div class="worker-mood">Nuotaika: Smalsus ğŸ”</div>
                    </div>
                </div>
                
                <div class="role-card critic">
                    <div class="worker-photo">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGZpbGw9IiMzMzMiIGN4PSI1MCIgY3k9IjQwIiByPSIyNSIvPjxjaXJjbGUgZmlsbD0iIzU1NSIgY3g9IjUwIiBjeT0iMzAiIHI9IjE4Ii8+PHBhdGggZmlsbD0iI0MxMjcyRCIgZD0iTTIwLDg1YzAtMTYuNiwxMy40LTMwLDMwLTMwczMwLDEzLjQsMzAsMzBINjVjMC04LjMtNi43LTE1LTE1LTE1cy0xNSw2LjctMTUsMTVIMjB6Ii8+PGxpbmUgc3Ryb2tlPSIjZWVlIiBzdHJva2Utd2lkdGg9IjIiIHgxPSIzNSIgeTE9IjM1IiB4Mj0iNDUiIHkyPSI0MCIvPjxsaW5lIHN0cm9rZT0iI2VlZSIgc3Ryb2tlLXdpZHRoPSIyIiB4MT0iNjUiIHkxPSIzNSIgeDI9IjU1IiB5Mj0iNDAiLz48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNlZWUiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQwLDU1YzUsLTUsMTUsLTUsMjAsMCIvPjwvc3ZnPg==" alt="Critic" class="worker-img">
                        <div class="magnifying-glass">ğŸ§</div>
                    </div>
                    <h3>Kritikas Vytautas</h3>
                    <p>MÅ«sÅ³ kokybÄ—s ekspertas. Subalansuotai vertina tekstus, visada pradÄ—damas nuo stipriÅ³jÅ³ pusiÅ³ identifikavimo. Pateikia konstruktyviÄ… kritikÄ…, konkreÄiai nurodydamas tobulintinas vietas ir siÅ«lydamas pagerinimo bÅ«dus.</p>
                    <div class="model-selection">
                        <label for="criticModel">Smegenys:</label>
                        <select id="criticModel" class="model-select">
                            <option value="openai-reasoning">OpenAI o1-mini ğŸ§ </option>
                        </select>
                        <div class="worker-mood">Nuotaika: SkeptiÅ¡kas ğŸ¤¨</div>
                    </div>
                </div>
                
                <div class="role-card editor">
                    <div class="worker-photo">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGZpbGw9IiMzMzMiIGN4PSI1MCIgY3k9IjQwIiByPSIyNSIvPjxjaXJjbGUgZmlsbD0iIzU1NSIgY3g9IjUwIiBjeT0iMzAiIHI9IjE4Ii8+PHBhdGggZmlsbD0iI2ZmZGEwMCIgZD0iTTIwLDg1YzAtMTYuNiwxMy40LTMwLDMwLTMwczMwLDEzLjQsMzAsMzBINjVjMC04LjMtNi43LTE1LTE1LTE1cy0xNSw2LjctMTUsMTVIMjB6Ii8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZWVlIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik00MCw0MGMwLDAsMTAsMTAsMjAsMCIvPjxjaXJjbGUgZmlsbD0iI2VlZSIgY3g9IjQwIiBjeT0iMzAiIHI9IjMiLz48Y2lyY2xlIGZpbGw9IiNlZWUiIGN4PSI2MCIgY3k9IjMwIiByPSIzIi8+PC9zdmc+" alt="Editor" class="worker-img">
                        <div class="red-pen">âœï¸</div>
                    </div>
                    <h3>RedaktorÄ— EglÄ—</h3>
                    <p>MÅ«sÅ³ kalbos tobulintoja. Turi iÅ¡skirtinÄ¯ akylumÄ… pastebÄ—ti net maÅ¾iausias gramatines klaidas, meistriÅ¡kai gerina teksto riÅ¡lumÄ… ir sklandumÄ…, iÅ¡laikydama autoriaus stiliÅ³. IÅ¡mano visas lietuviÅ³ kalbos taisykles iki smulkmenÅ³.</p>
                    <div class="model-selection">
                        <label for="editorModel">Smegenys:</label>
                        <select id="editorModel" class="model-select">
                            <option value="claude-hybridspace">Claude Hybridspace</option>
                        </select>
                        <div class="worker-mood">Nuotaika: PedantiÅ¡ka âœ“</div>
                    </div>
                </div>

                <div class="role-card boss">
                    <div class="worker-photo">
                        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48Y2lyY2xlIGZpbGw9IiMzMzMiIGN4PSI1MCIgY3k9IjQwIiByPSIyNSIvPjxjaXJjbGUgZmlsbD0iIzU1NSIgY3g9IjUwIiBjeT0iMzAiIHI9IjE4Ii8+PHBhdGggZmlsbD0iIzAwOTkzMCIgZD0iTTIwLDg1YzAtMTYuNiwxMy40LTMwLDMwLTMwczMwLDEzLjQsMzAsMzBINjVjMC04LjMtNi43LTE1LTE1LTE1cy0xNSw2LjctMTUsMTVIMjB6Ii8+PHJlY3QgZmlsbD0iI0ZGREEwMCIgeD0iNDIiIHk9IjI2IiB3aWR0aD0iMTYiIGhlaWdodD0iMTAiIHJ4PSIyIiByeT0iMiIvPjxjaXJjbGUgZmlsbD0iI2VlZSIgY3g9IjQwIiBjeT0iMzUiIHI9IjMiLz48Y2lyY2xlIGZpbGw9IiNlZWUiIGN4PSI2MCIgY3k9IjM1IiByPSIzIi8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZWVlIiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik00MCw0NWMwLDAsMTAsMTAsMjAsMCIvPjwvc3ZnPg==" alt="Boss" class="worker-img">
                        <div class="tie">ğŸ‘”</div>
                    </div>
                    <h3>Å efas Tauris</h3>
                    <p>MÅ«sÅ³ strategas ir lyderis. MeistriÅ¡kai apjungia visÅ³ darbuotojÅ³ indÄ—lÄ¯ Ä¯ vienÄ… nuoseklÅ³ rezultatÄ…. Priima galutinius sprendimus, pagrÄ¯stus specialistÅ³ Ä¯Å¾valgomis, iÅ¡renka esminius dalykus ir atmeta nereikalingas detales.</p>
                    <div class="model-selection">
                        <label for="bossModel">Smegenys:</label>
                        <select id="bossModel" class="model-select">
                            <option value="openai-reasoning">OpenAI o1-mini ğŸ§ </option>
                            <option value="openai-large">OpenAI GPT-4o ğŸ‘ï¸</option>
                            <option value="claude-hybridspace">Claude Hybridspace</option>
                        </select>
                        <div class="worker-mood">Nuotaika: Pasitikintis ğŸ’¼</div>
                    </div>
                    <div class="boss-seal">
                        <div class="boss-seal-inner">PATVIRTINTA</div>
                    </div>
                </div>
            </div>
            
            <div class="collaboration-process">
                <div class="coffee-machine">
                    <div class="coffee-display">Kava paruoÅ¡ta!</div>
                    <div class="coffee-buttons">
                        <button class="coffee-button espresso">Espresso</button>
                        <button class="coffee-button latte">Latte</button>
                    </div>
                </div>
                <div class="collaboration-info">
                    <h4>Biuro darbo procesas</h4>
                    <ol>
                        <li>Jonas kuria pradinÄ¯ juodraÅ¡tÄ¯ su turtinga, vaizdinga lietuviÅ³ kalba</li>
                        <li>Gabija prideda faktinius duomenis, akademines Ä¯Å¾valgas ir patikimas nuorodas</li>
                        <li>Vytautas konstruktyviai analizuoja tekstÄ…, nurodydamas stiprybes ir tobulintinas vietas</li>
                        <li>EglÄ— iÅ¡taiso visas kalbos klaidas ir patobulina teksto sklandumÄ…</li>
                        <li>Å efas Tauris apjungia visÅ³ darbÄ… Ä¯ galutinÄ¯, profesionalÅ³ rezultatÄ…</li>
                    </ol>
                </div>
            </div>
            
            <div class="buttons">
                <button id="startBtn" class="lithuanian-button">PradÄ—ti darbÄ…</button>
                <button id="stopBtn" class="lithuanian-button stop" disabled>Sustabdyti</button>
                <button id="clearBtn" class="lithuanian-button clear">Naujas uÅ¾sakymas</button>
            </div>
            
            <div class="conversation-settings">
                <div class="setting-group">
                    <label for="numExchanges">IteracijÅ³ skaiÄius:</label>
                    <input type="number" id="numExchanges" min="1" max="10" value="1">
                </div>
                <div class="setting-group">
                    <label for="delayBetweenExchanges">Pertraukos (ms):</label>
                    <input type="number" id="delayBetweenExchanges" min="0" max="5000" value="2000">
                </div>
            </div>
            
            <div class="office-notice">
                <div class="notice-icon">ğŸ“¢</div>
                <div class="notice-content">
                    <strong>Biuro praneÅ¡imas:</strong> <span id="statusMessage">Å iandien kavos aparatas veikia! ğŸ‰</span>
                </div>
            </div>
            
            <div class="progress-container">
                <div id="progressBar" class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <span id="progressText">0%</span>
                <div class="model-status">
                    <span id="modelStatusText"></span>
                    <div id="fetchingIndicator" class="fetching-indicator"></div>
                </div>
            </div>
        </div>

        <div class="chat-container">
            <div class="chat-header">
                <h3>Biuro pokalbiai</h3>
                <div class="chat-time">
                    <div class="office-clock">
                        <div class="clock-face">
                            <div class="clock-hour"></div>
                            <div class="clock-minute"></div>
                        </div>
                    </div>
                    <span id="officeClock">09:25</span>
                </div>
            </div>
            <div id="chatLog" class="chat-log"></div>
            <div class="water-cooler">
                <div class="water-bubble bubble1"></div>
                <div class="water-bubble bubble2"></div>
                <div class="water-bottle">
                    <div class="inner-bubble inner-bubble-1"></div>
                    <div class="inner-bubble inner-bubble-2"></div>
                    <div class="inner-bubble inner-bubble-3"></div>
                </div>
                <div class="water-stand"></div>
            </div>
        </div>
        
        <div class="final-result">
            <div class="result-header">
                <h2>Galutinis rezultatas <span id="resultStatus">(Darbas vyksta...)</span></h2>
            </div>
            <div id="finalResult" class="result-content"></div>
            <div class="result-actions">
                <button id="copyResultBtn" class="lithuanian-button">Kopijuoti tekstÄ…</button>
                <button id="downloadResultBtn" class="lithuanian-button">AtsisiÅ³sti dokumentÄ…</button>
            </div>
            <div class="easter-egg">
                <div class="cepelinai">ğŸ¥Ÿ</div>
                <div class="easter-egg-text">SÄ—kmingai baigus darbÄ…, visi darbuotojai gaus cepelinÅ³!</div>
            </div>
        </div>
        
        <footer class="office-footer">
            <div class="footer-content">
                <p>Â© 2025 Tauris AI Ltd. - "Kur dirbtinis intelektas kalba lietuviÅ¡kai ir dirba uÅ¾ cepelinÅ³ pietÅ«s"</p>
                <p class="lithuanian-pride">Pagaminta su <span class="heart">â¤ï¸</span> Lietuvoje</p>
            </div>
        </footer>
    </div>

    <script>
    // Simple feature detection to ensure AbortSignal.timeout is available
    if (!AbortSignal.timeout) {
        AbortSignal.timeout = function(ms) {
            const controller = new AbortController();
            setTimeout(() => controller.abort(new DOMException('TimeoutError')), ms);
            return controller.signal;
        };
    }
    
    // Office clock functionality
    function updateOfficeClock() {
        const now = new Date();
        let hours = now.getHours();
        let minutes = now.getMinutes();
        
        // Add Lithuanian twist - clocks run differently in our virtual Lithuanian office
        if (Math.random() > 0.9) {
            hours = (hours + Math.floor(Math.random() * 3) - 1) % 24;
            minutes = Math.floor(Math.random() * 60);
        }
        
        hours = hours < 10 ? '0' + hours : hours;
        minutes = minutes < 10 ? '0' + minutes : minutes;
        
        document.getElementById('officeClock').textContent = `${hours}:${minutes}`;
        
        // Update clock hands
        const hourHand = document.querySelector('.clock-hour');
        const minuteHand = document.querySelector('.clock-minute');
        
        const hourDeg = (hours % 12) * 30 + minutes * 0.5;
        const minuteDeg = minutes * 6;
        
        if (hourHand && minuteHand) {
            hourHand.style.transform = `rotate(${hourDeg}deg)`;
            minuteHand.style.transform = `rotate(${minuteDeg}deg)`;
        }
        
        // Schedule next update
        setTimeout(updateOfficeClock, 60000); // Update every minute
    }
    
    // Add theme toggle functionality
    function setupThemeToggle() {
        const themeToggle = document.getElementById('themeToggle');
        
        // Initialize theme from localStorage or default to dark
        const savedTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', savedTheme);
        themeToggle.checked = savedTheme === 'dark';
        
        // Add change event listener
        themeToggle.addEventListener('change', function() {
            const theme = this.checked ? 'dark' : 'light';
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        });
    }
    
    // Start the office clock and theme toggle on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateOfficeClock();
        setupThemeToggle();
        
        // Coffee machine interactions
        document.querySelectorAll('.coffee-button').forEach(button => {
            button.addEventListener('click', function() {
                const display = document.querySelector('.coffee-display');
                const type = this.classList.contains('espresso') ? 'Espresso' : 'Latte';
                display.textContent = `${type} ruoÅ¡iamas...`;
                
                setTimeout(() => {
                    display.textContent = `${type} paruoÅ¡tas!`;
                    
                    // Add message to chat
                    if (typeof addMessageToChatLog === 'function') {
                        addMessageToChatLog('Kavos aparatas', `${type} paruoÅ¡tas! Kas nori kavos?`, 'system coffee-message');
                    }
                }, 1500);
            });
        });
    });
    </script>
    
    <!-- Load core functionality first -->
    <script defer src="js/cors-proxy.js"></script>
    <script defer src="js/api-helper.js"></script>
    <script defer src="js/api-connector.js"></script>
    
    <!-- Then load UI components -->
    <script defer src="js/intro-animation.js"></script>
    <script defer src="js/boss-phrases.js"></script>
    <script defer src="js/error-animations.js"></script>
    <script defer src="js/document-formatter.js"></script>
    <script defer src="js/approval-stamp.js"></script>
    
    <!-- Load utility and support scripts -->
    <script defer src="js/retry-handler.js"></script>
    <script defer src="js/model-availability.js"></script>
    <script defer src="js/error-fix.js"></script>
    <script defer src="js/verification.js"></script>
    <script defer src="js/api-test.js"></script>
    
    <!-- Load application scripts last -->
    <script defer src="js/script.js"></script>
    <script defer src="js/lithuanian-extras.js"></script>
    <script defer src="js/stamp-effects.js"></script>
    <script defer src="js/utility.js"></script>
    <script defer src="js/lietuviskas-thinking.js"></script>
    <script defer src="js/feedback-system.js"></script>
    <script defer src="js/outputFormatting.js"></script>
    <script defer src="js/pollinations-api-client.js"></script>
</body>
</html>